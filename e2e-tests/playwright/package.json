{
  "name": "mattermost-playwright",
  "workspaces": [
    "lib"
  ],
  "scripts": {
    "postinstall": "script/post_install.sh && npm run build",
    "build": "npm run build --workspaces",
    "build:watch": "npm run build:watch --workspaces",
    "tsc": "tsc -b && npm run tsc --workspaces",
    "lint": "eslint .",
    "lint:test-docs": "node script/lint-test-docs.js",
    "prettier": "prettier . --check",
    "prettier:fix": "prettier --write .",
    "check": "npm run lint && npm run prettier && npm run tsc && npm run lint:test-docs",
    "test": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true playwright test",
    "test:smoke": "npm run build && playwright test --grep @smoke --project=chrome --retries=1",
    "test:ci": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true playwright test --grep-invert @visual --project=chrome",
    "test:a11y-update-snapshots": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true playwright test specs/accessibility --project=chrome --grep @snapshots --update-snapshots --update-source-method=overwrite",
    "test:visual": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true playwright test --grep @visual",
    "test:visual-update-snapshots": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true playwright test specs/visual --grep @visual --update-snapshots",
    "test:update-snapshots": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true playwright test --project=chrome --grep @snapshots --update-snapshots --update-source-method=overwrite",
    "test:slomo": "npm run build && cross-env PW_SNAPSHOT_ENABLE=true PW_SLOWMO=1000 playwright test",
    "percy:docker": "npm run build && cross-env PW_PERCY_ENABLE=true PERCY_BROWSER_EXECUTABLE='/ms-playwright/chromium-1169/chrome-linux/chrome' percy exec -- playwright test specs/visual --grep @visual --project=chrome --project=ipad",
    "codegen": "npm run build && cross-env playwright codegen $PW_BASE_URL",
    "playwright-ui": "npm run build && cross-env playwright test --ui",
    "show-report": "npm run build && npx playwright show-report results/reporter",
    "clean": "rm -rf dist node_modules package-lock.json *.tsbuildinfo logs results storage_state test-results && npm run clean --workspaces",
    "test:impact:agents": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js impact --path ../../webapp --tests-root . --config ./e2e-ai-agents.config.json",
    "test:recommend:agents": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js suggest --path ../../webapp --tests-root . --config ./e2e-ai-agents.config.json",
    "test:approve-generate:agents": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js approve-and-generate --path ../../webapp --tests-root . --config ./e2e-ai-agents.config.json",
    "test:finalize-generated:agents": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js finalize-generated-tests --path ../../webapp --tests-root .",
    "test:traceability:ingest:agents": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js traceability-ingest --path ../../webapp --tests-root . --traceability-input ./.e2e-ai-agents/traceability-input.json",
    "test:impact": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js impact --path ../../webapp --tests-root . --config ./e2e-ai-agents.config.json",
    "test:impact:pr": "node ./node_modules/@yasserkhanorg/e2e-agents/dist/cli.js impact --path ../../webapp --tests-root . --config ./e2e-ai-agents.config.json --since origin/master"
  },
  "dependencies": {
    "@mattermost/client": "file:../../webapp/platform/client",
    "@mattermost/playwright-lib": "*",
    "@mattermost/types": "file:../../webapp/platform/types",
    "@yasserkhanorg/e2e-agents": "^0.3.2"
  },
  "devDependencies": {
    "@playwright/test": "1.58.1",
    "@types/luxon": "3.7.1",
    "@typescript-eslint/eslint-plugin": "8.54.0",
    "cross-env": "10.1.0",
    "dayjs": "1.11.19",
    "eslint": "9.39.2",
    "eslint-import-resolver-typescript": "4.4.4",
    "eslint-plugin-header": "3.1.1",
    "eslint-plugin-import": "2.32.0",
    "glob": "13.0.1",
    "luxon": "3.7.2",
    "prettier": "3.8.1",
    "typescript": "5.9.3",
    "zod": "4.3.6"
  }
}
