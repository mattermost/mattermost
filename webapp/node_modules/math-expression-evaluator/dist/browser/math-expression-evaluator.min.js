/* 
 * The MIT License (MIT)
 * 
 * Copyright (c) Ankit G.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:</p>
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/** math-expression-evaluator version 1.2.14
 Dated:2016-08-25 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.mexp=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function e(a,b,c){if(b!==b)return d(a,f,c);for(var e=c-1,g=a.length;++e<g;)if(a[e]===b)return e;return-1}function f(a){return a!==a}function g(a,b,c){var d=a?a.length:0;if(!d)return-1;var f=null==c?0:l(c);return f<0&&(f=y(d+f,0)),e(a,b,f)}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function i(a){return!!a&&"object"==typeof a}function j(a){return"symbol"==typeof a||i(a)&&x.call(a)==q}function k(a){if(!a)return 0===a?a:0;if(a=m(a),a===n||a===-n){var b=a<0?-1:1;return b*o}return a===a?a:0}function l(a){var b=k(a),c=b%1;return b===b?c?b-c:b:0}function m(a){if("number"==typeof a)return a;if(j(a))return p;if(h(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=h(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(r,"");var c=t.test(a);return c||u.test(a)?v(a.slice(2),c?2:8):s.test(a)?p:+a}var n=1/0,o=1.7976931348623157e308,p=NaN,q="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,t=/^0b[01]+$/i,u=/^0o[0-7]+$/i,v=parseInt,w=Object.prototype,x=w.toString,y=Math.max;b.exports=g},{}],2:[function(a,b,c){var d=a("./postfix_evaluator.js");d.prototype.formulaEval=function(){"use strict";for(var a,b,c,d=[],e=this.value,f=0;f<e.length;f++)1===e[f].type||3===e[f].type?d.push({value:3===e[f].type?e[f].show:e[f].value,type:1}):13===e[f].type?d.push({value:e[f].show,type:1}):0===e[f].type?d[d.length-1]={value:e[f].show+("-"!=e[f].show?"(":"")+d[d.length-1].value+("-"!=e[f].show?")":""),type:0}:7===e[f].type?d[d.length-1]={value:(1!=d[d.length-1].type?"(":"")+d[d.length-1].value+(1!=d[d.length-1].type?")":"")+e[f].show,type:7}:10===e[f].type?(a=d.pop(),b=d.pop(),"P"===e[f].show||"C"===e[f].show?d.push({value:"<sup>"+b.value+"</sup>"+e[f].show+"<sub>"+a.value+"</sub>",type:10}):d.push({value:(1!=b.type?"(":"")+b.value+(1!=b.type?")":"")+"<sup>"+a.value+"</sup>",type:1})):2===e[f].type||9===e[f].type?(a=d.pop(),b=d.pop(),d.push({value:(1!=b.type?"(":"")+b.value+(1!=b.type?")":"")+e[f].show+(1!=a.type?"(":"")+a.value+(1!=a.type?")":""),type:e[f].type})):12===e[f].type&&(a=d.pop(),b=d.pop(),c=d.pop(),d.push({value:e[f].show+"("+c.value+","+b.value+","+a.value+")",type:12}));return d[0].value},b.exports=d},{"./postfix_evaluator.js":6}],3:[function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++)a[c]+=b;return a}function e(a,b,c,d){for(var e=0;e<d;e++)if(a[c+e]!==b[e])return!1;return!0}var f=a("./math_function.js"),g=a("lodash.indexof"),h=["sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],j=["sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],k=[f.math.sin,f.math.cos,f.math.tan,"PI","(",")",f.math.P,f.math.C,f.math.asin,f.math.acos,f.math.atan,"7","8","9",Math.floor,f.math.cosh,f.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",f.math.div,f.math.fact,f.math.tanh,f.math.atanh,f.math.mod,"1","2","3",f.math.mul,f.math.sinh,f.math.asinh,"E",f.math.log,"0",".",f.math.add,f.math.sub,",",f.math.sigma,"n",f.math.Pi,Math.pow],l={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},m=[0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],n={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},o={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},p={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},q={},r={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},s={1:!0},t=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];f.addToken=function(a){for(i=0;i<a.length;i++){x=a[i].token.length;var b=-1;if(x<t.length)for(y=0;y<t[x].length;y++)if(a[i].token===t[x][y]){b=g(h,t[x][y]);break}b===-1?(h.push(a[i].token),m.push(a[i].type),t.length<=a[i].token.length&&(t[a[i].token.length]=[]),t[a[i].token.length].push(a[i].token),k.push(a[i].value),j.push(a[i].show)):(h[b]=a[i].token,m[b]=a[i].type,k[b]=a[i].value,j[b]=a[i].show)}},f.lex=function(a,b){"use strict";var c,i,u,v,w=[{type:4,value:"(",show:"(",pre:0}],x=[],y=a,z=0,A=n,B=0,C=q,D="";"undefined"!=typeof b&&f.addToken(b);var E={};for(i=0;i<y.length;i++)if(" "!=y[i]){c="";a:for(u=y.length-i>t.length-2?t.length-1:y.length-i;u>0;u--)for(v=0;v<t[u].length;v++)if(e(y,t[u][v],i,u)){c=t[u][v];break a}if(i+=c.length-1,""===c)throw new f.exception("Can't understand after "+y.slice(i));var F=g(h,c),G=c,H=m[F],I=k[F],J=l[H],K=j[F],L=w[w.length-1];for(M=x.length;M--;)if(0===x[M]&&g([0,2,3,5,9,11,12,13],H)!==-1){if(A[H]!==!0)throw new f.exception(c+" is not allowed after "+D);w.push({value:")",type:5,pre:0,show:")"}),A=o,C=r,d(x,-1).pop()}if(A[H]!==!0)throw new f.exception(c+" is not allowed after "+D);if(C[H]===!0&&(H=2,I=f.math.mul,K="&times;",J=3,i-=c.length),E={value:I,type:H,pre:J,show:K},0===H)A=n,C=q,d(x,2).push(2),w.push(E),w.push({value:"(",type:4,pre:0,show:"("});else if(1===H)1===L.type?(L.value+=I,d(x,1)):w.push(E),A=o,C=p;else if(2===H)A=n,C=q,d(x,2),w.push(E);else if(3===H)w.push(E),A=o,C=r;else if(4===H)z+=x.length,x=[],B++,A=n,C=q,w.push(E);else if(5===H){if(!B)throw new f.exception("Closing parenthesis are more than opening one, wait What!!!");for(;z--;)w.push({value:")",type:5,pre:0,show:")"});z=0,B--,A=o,C=r,w.push(E)}else if(6===H){if(L.hasDec)throw new f.exception("Two decimals are not allowed in one number");1!==L.type&&(L={value:0,type:1,pre:0},w.push(L),d(x,-1)),A=s,d(x,1),C=q,L.value+=I,L.hasDec=!0}else 7===H&&(A=o,C=r,d(x,1),w.push(E));8===H?(A=n,C=q,d(x,4).push(4),w.push(E),w.push({value:"(",type:4,pre:0,show:"("})):9===H?(9===L.type?L.value===f.math.add?(L.value=I,L.show=K,d(x,1)):L.value===f.math.sub&&"-"===K&&(L.value=f.math.add,L.show="+",d(x,1)):5!==L.type&&7!==L.type&&1!==L.type&&3!==L.type&&13!==L.type?"-"===G&&(A=n,C=q,d(x,2).push(2),w.push({value:f.math.changeSign,type:0,pre:21,show:"-"}),w.push({value:"(",type:4,pre:0,show:"("})):(w.push(E),d(x,2)),A=n,C=q):10===H?(A=n,C=q,d(x,2),w.push(E)):11===H?(A=n,C=q,w.push(E)):12===H?(A=n,C=q,d(x,6).push(6),w.push(E),w.push({value:"(",type:4,pre:0})):13===H&&(A=o,C=r,w.push(E)),d(x,-1),D=c}for(var M=x.length;M--;)0===x[M]&&(w.push({value:")",show:")",type:5,pre:3}),d(x,-1).pop());if(A[5]!==!0)throw new f.exception("complete the expression");for(;B--;)w.push({value:")",show:")",type:5,pre:3});return w.push({type:5,value:")",show:")",pre:0}),new f(w)},b.exports=f},{"./math_function.js":4,"lodash.indexof":1}],4:[function(a,b,c){var d=function(a){this.value=a};d.math={isDegree:!0,acos:function(a){return d.math.isDegree?180/Math.PI*Math.acos(a):Math.acos(a)},add:function(a,b){return a+b},asin:function(a){return d.math.isDegree?180/Math.PI*Math.asin(a):Math.asin(a)},atan:function(a){return d.math.isDegree?180/Math.PI*Math.atan(a):Math.atan(a)},acosh:function(a){return Math.log(a+Math.sqrt(a*a-1))},asinh:function(a){return Math.log(a+Math.sqrt(a*a+1))},atanh:function(a){return Math.log((1+a)/(1-a))},C:function(a,b){var c=1,e=a-b,f=b;f<e&&(f=e,e=b);for(var g=f+1;g<=a;g++)c*=g;return c/d.math.fact(e)},changeSign:function(a){return-a},cos:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.cos(a)},cosh:function(a){return(Math.pow(Math.E,a)+Math.pow(Math.E,-1*a))/2},div:function(a,b){return a/b},fact:function(a){if(a%1!==0)return"NAN";for(var b=1,c=2;c<=a;c++)b*=c;return b},inverse:function(a){return 1/a},log:function(a){return Math.log(a)/Math.log(10)},mod:function(a,b){return a%b},mul:function(a,b){return a*b},P:function(a,b){for(var c=1,d=Math.floor(a)-Math.floor(b)+1;d<=Math.floor(a);d++)c*=d;return c},Pi:function(a,b,c){for(var d=1,e=a;e<=b;e++)d*=Number(c.postfixEval({n:e}));return d},pow10x:function(a){for(var b=1;a--;)b*=10;return b},sigma:function(a,b,c){for(var d=0,e=a;e<=b;e++)d+=Number(c.postfixEval({n:e}));return d},sin:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.sin(a)},sinh:function(a){return(Math.pow(Math.E,a)-Math.pow(Math.E,-1*a))/2},sub:function(a,b){return a-b},tan:function(a){return d.math.isDegree&&(a=d.math.toRadian(a)),Math.tan(a)},tanh:function(a){return d.sinha(a)/d.cosha(a)},toRadian:function(a){return a*Math.PI/180}},d.exception=function(a){this.message=a},b.exports=d},{}],5:[function(a,b,c){var d=a("./lexer.js");d.prototype.toPostfix=function(){"use strict";for(var a,b,c,e,f,g=[],h=[{value:"(",type:4,pre:0}],i=this.value,j=1;j<i.length;j++)if(1===i[j].type||3===i[j].type||13===i[j].type)1===i[j].type&&(i[j].value=Number(i[j].value)),g.push(i[j]);else if(4===i[j].type)h.push(i[j]);else if(5===i[j].type)for(;4!==(b=h.pop()).type;)g.push(b);else if(11===i[j].type){for(;4!==(b=h.pop()).type;)g.push(b);h.push(b)}else{a=i[j],e=a.pre,f=h[h.length-1],c=f.pre;var k="Math.pow"==f.value&&"Math.pow"==a.value;if(e>c)h.push(a);else{for(;c>=e&&!k||k&&e<c;)b=h.pop(),f=h[h.length-1],g.push(b),c=f.pre,k="Math.pow"==a.value&&"Math.pow"==f.value;h.push(a)}}return new d(g)},b.exports=d},{"./lexer.js":3}],6:[function(a,b,c){var d=a("./postfix.js");d.prototype.postfixEval=function(a){"use strict";a=a||{},a.PI=Math.PI,a.E=Math.E;for(var b,c,e,f=[],g=this.value,h="undefined"!=typeof a.n,i=0;i<g.length;i++)1===g[i].type?f.push({value:g[i].value,type:1}):3===g[i].type?f.push({value:a[g[i].value],type:1}):0===g[i].type?"undefined"==typeof f[f.length-1].type?f[f.length-1].value.push(g[i]):f[f.length-1].value=g[i].value(f[f.length-1].value):7===g[i].type?"undefined"==typeof f[f.length-1].type?f[f.length-1].value.push(g[i]):f[f.length-1].value=g[i].value(f[f.length-1].value):8===g[i].type?(b=f.pop(),c=f.pop(),f.push({type:1,value:g[i].value(c.value,b.value)})):10===g[i].type?(b=f.pop(),c=f.pop(),"undefined"==typeof c.type?(c.value=c.concat(b),c.value.push(g[i]),f.push(c)):"undefined"==typeof b.type?(b.unshift(c),b.push(g[i]),f.push(b)):f.push({type:1,value:g[i].value(c.value,b.value)})):2===g[i].type||9===g[i].type?(b=f.pop(),c=f.pop(),"undefined"==typeof c.type?(console.log(c),c=c.concat(b),c.push(g[i]),f.push(c)):"undefined"==typeof b.type?(b.unshift(c),b.push(g[i]),f.push(b)):f.push({type:1,value:g[i].value(c.value,b.value)})):12===g[i].type?(b=f.pop(),"undefined"!=typeof b.type&&(b=[b]),c=f.pop(),e=f.pop(),f.push({type:1,value:g[i].value(e.value,c.value,new d(b))})):13===g[i].type&&(h?f.push({value:a[g[i].value],type:3}):f.push([g[i]]));if(f.length>1)throw new d.exception("Uncaught Syntax error");return f[0].value>1e15?"Infinity":Number(f[0].value.toFixed(15)).toPrecision()},d.eval=function(a,b,c){return"undefined"==typeof b?this.lex(a).toPostfix().postfixEval():"undefined"==typeof c?"undefined"!=typeof b.length?this.lex(a,b).toPostfix().postfixEval():this.lex(a).toPostfix().postfixEval(b):this.lex(a,b).toPostfix().postfixEval(c)},b.exports=d},{"./postfix.js":5}]},{},[2])(2)});